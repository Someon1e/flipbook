"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[403],{3905:(e,t,o)=>{o.d(t,{Zo:()=>p,kt:()=>d});var r=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=r.createContext({}),c=function(e){var t=r.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=c(o),d=n,f=m["".concat(s,".").concat(d)]||m[d]||u[d]||a;return o?r.createElement(f,l(l({ref:t},p),{},{components:o})):r.createElement(f,l({ref:t},p))}));function d(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,l=new Array(a);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,l[1]=i;for(var c=2;c<a;c++)l[c]=o[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,o)}m.displayName="MDXCreateElement"},7387:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var r=o(7462),n=(o(7294),o(3905));const a={sidebar_position:4},l="Migrating from Hoarcekat",i={unversionedId:"migrating",id:"migrating",title:"Migrating from Hoarcekat",description:"Hoarcekat is a popular storybook plugin like flipbook. Because of its popularity, its story format is supported by flipbook so that you have an easier time migrating.",source:"@site/docs/migrating.md",sourceDirName:".",slug:"/migrating",permalink:"/flipbook/docs/migrating",draft:!1,editUrl:"https://github.com/vocksel/flipbook/edit/master/docs/migrating.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"defaultSidebar",previous:{title:"Story Format",permalink:"/flipbook/docs/story-format"},next:{title:"Contributing",permalink:"/flipbook/docs/contributing"}},s={},c=[{value:"Creating the Storybook",id:"creating-the-storybook",level:2},{value:"Migrating Stories",id:"migrating-stories",level:2},{value:"Further Reading",id:"further-reading",level:2}],p={toc:c};function u(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,r.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"migrating-from-hoarcekat"},"Migrating from Hoarcekat"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Kampfkarren/hoarcekat/"},"Hoarcekat")," is a popular storybook plugin like flipbook. Because of its popularity, its story format is supported by flipbook so that you have an easier time migrating."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"This guide assumes you are using ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/rojo-rbx/rojo/"},"Rojo")," to manage your source code. If you are not then your mileage may vary.")),(0,n.kt)("h2",{id:"creating-the-storybook"},"Creating the Storybook"),(0,n.kt)("p",null,'The main difference in how flipbook and Hoarcekat handle stories is that flipbook requires a "storybook" file to know where your stories are. As such, to migrate over from Hoarcekat the first thing you should do is create a storybook for your project.'),(0,n.kt)("p",null,"To do this, create a new ",(0,n.kt)("inlineCode",{parentName:"p"},"ProjectName.storybook.lua")," file at the root of your project with the following contents:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-lua"},"-- Make sure to adjust the path to Roact if needed \nlocal Roact = require(script.Parent.Parent.Roact)\n\nreturn {\n    roact = Roact,\n    storyRoots = { \n        script.Parent.Components\n    }\n}\n")),(0,n.kt)("p",null,"From there the storybook will appear in flipbook's sidebar and you should be able to select your stories with no problem."),(0,n.kt)("h2",{id:"migrating-stories"},"Migrating Stories"),(0,n.kt)("p",null,"To fully benefit from the features flipbook has to offer, this section will guide you in converting an existing Hoarcekat story to flipbook's format."),(0,n.kt)("p",null,"We will use the following component and story as an example:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-lua"},'-- HelloWorld.lua\ntype Props = {\n    name: string?\n}\n\nlocal function HelloWorld(props: Props)\n    local name = props.name or "World" \n\n    return Roact.createElement("TextLabel", {\n        Text = ("Hello %s!"):format(name),\n        TextColor3 = Color3.fromRGB(0, 0, 0),\n        TextScaled = true,\n        Font = Enum.Font.GothamBold,\n        Size = UDim2.fromOffset(200, 100),\n        BackgroundColor3 = Color3.fromRGB(255, 255, 255),\n    })\nend\n\nreturn HelloWorld\n')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-lua"},'-- HelloWorld.story.lua\nlocal Roact = require(script.Parent.Parent.Roact)\nlocal HelloWorld = require(script.Parent.HelloWorld)\n\nreturn function(target)\n    local root = Roact.createElement(HelloWorld, {\n        name = "flipbook"\n    })\n\n    local handle = Roact.mount(root, target)\n\n    return function()\n        Roact.unmount(handle)\n    end\nend\n')),(0,n.kt)("p",null,"Converting a Hoarcekat story like this into one compatible with flipbook is quite easy. In fact, all that's needed from the above story is the call to ",(0,n.kt)("inlineCode",{parentName:"p"},"Roact.createElement"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-lua"},'-- HelloWorld.story.lua\nlocal Roact = require(script.Parent.Parent.Roact)\nlocal HelloWorld = require(script.Parent.HelloWorld)\n\nreturn {\n    story = Roact.createElement(HelloWorld, {\n        name = "flipbook"\n    })\n}\n')),(0,n.kt)("p",null,"Since flipbook assumes use of Roact, you don't have to handle mounting and unmounting yourself. And now that the story has been migrated we can start supercharging it. For starters, we can give the story a summary that will be displayed when viewing it:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-diff"},'local Roact = require(script.Parent.Parent.Roact)\nlocal HelloWorld = require(script.Parent.HelloWorld)\n\nreturn {\n+   summary = "This is a Hoarcekat component that has been converted for flipbook!"\n    story = Roact.createElement(HelloWorld, {\n        name = "flipbook"\n    })\n}\n')),(0,n.kt)("p",null,"Next lets add some controls so we can change the ",(0,n.kt)("inlineCode",{parentName:"p"},"name")," prop without having to manually modify the story:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-diff"},'local Roact = require(script.Parent.Parent.Roact)\nlocal HelloWorld = require(script.Parent.HelloWorld)\n\nreturn {\n    summary = "This is a Hoarcekat component that has been converted for flipbook!"\n+   controls = {\n+       name = "flipbook"\n+   }\n+   story = return function(props)\n+       return Roact.createElement(HelloWorld, {\n+           name = props.controls.name\n+       })\n+   end\n}\n')),(0,n.kt)("p",null,'You will now have a "Controls" section with an input field. Try changing the value to see your component update live.'),(0,n.kt)("p",null,"You are now equipped to migrate your other Hoarcekat stories over to flipbook!"),(0,n.kt)("h2",{id:"further-reading"},"Further Reading"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/flipbook/docs/writing-stories"},"Writing Stories")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/flipbook/docs/story-format"},"Story Format"))))}u.isMDXComponent=!0}}]);