"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[924],{8779:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var o=n(4848),r=n(8453);const s={sidebar_position:3},a="Story Format",i={id:"story-format",title:"Story Format",description:"Stories can be written in several different formats to accomodate different workflows. This document outlines those formats with examples of how to use them.",source:"@site/docs/story-format.md",sourceDirName:".",slug:"/story-format",permalink:"/flipbook/docs/story-format",draft:!1,unlisted:!1,editUrl:"https://github.com/flipbook-labs/flipbook/tree/main/docs/docs/docs/story-format.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docs",previous:{title:"Writing Stories",permalink:"/flipbook/docs/writing-stories"},next:{title:"Migrating from Hoarcekat",permalink:"/flipbook/docs/migrating"}},c={},l=[{value:"Storybook",id:"storybook",level:2},{value:"Roact Story",id:"roact-story",level:2},{value:"React Story",id:"react-story",level:2},{value:"Functional Story",id:"functional-story",level:2},{value:"Hoarcekat Story",id:"hoarcekat-story",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"story-format",children:"Story Format"}),"\n",(0,o.jsx)(t.p,{children:"Stories can be written in several different formats to accomodate different workflows. This document outlines those formats with examples of how to use them."}),"\n",(0,o.jsx)(t.h2,{id:"storybook",children:"Storybook"}),"\n",(0,o.jsx)(t.p,{children:"Storybooks are your entypoint to flipbook and you'll need at least one to start using it."}),"\n",(0,o.jsxs)(t.p,{children:["The only required prop is the ",(0,o.jsx)(t.code,{children:"storyRoots"})," array, which tells flipbook which Instances to search the descendants of for ",(0,o.jsx)(t.code,{children:".story"})," files"]}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Name"}),(0,o.jsx)(t.th,{children:"Type"}),(0,o.jsx)(t.th,{children:"Notes"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"storyRoots"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"{ Instance }"})}),(0,o.jsxs)(t.td,{children:["An array of instances to search the descendants of for ",(0,o.jsx)(t.code,{children:".story"})," files."]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"name"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string?"})}),(0,o.jsxs)(t.td,{children:["The name to use for the storybook. This defaults to ",(0,o.jsx)(t.code,{children:"script.Name"})," with ",(0,o.jsx)(t.code,{children:".storybook"})," stripped off."]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"roact"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"Roact?"})}),(0,o.jsx)(t.td,{children:"The version of Roact to use across all stories."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"react"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"React?"})}),(0,o.jsx)(t.td,{children:"The version of React to use across all stories."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"reactRoblox"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"ReactRoblox?"})}),(0,o.jsx)(t.td,{children:"The version of ReactRoblox to use when mounting React components."})]})]})]}),"\n",(0,o.jsx)(t.p,{children:"Example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-lua",metastring:'title="example/Example.storybook.lua"',children:'return {\n    name = "Example Storybook",\n    storyRoots = {\n        script.Parent,\n    },\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"roact-story",children:"Roact Story"}),"\n",(0,o.jsxs)(t.p,{children:["Support for Roblox's ",(0,o.jsx)(t.a,{href:"https://github.com/Roblox/roact",children:"Roact"})," library is built in to flipbook, allowing you to supply your copy of Roact and return Roact elements to create stories."]}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Name"}),(0,o.jsx)(t.th,{children:"Type"}),(0,o.jsx)(t.th,{children:"Description"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"story"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"RoactElement    | (props: StoryProps) -> RoactElement"})}),(0,o.jsx)(t.td,{children:"Your story can either be a Roact element or a function that accepts props and returns a Roact element. The latter format is needed to support the use of controls. See below for an example"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"roact"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"Roact"})}),(0,o.jsx)(t.td,{children:"This must be set to your copy of Roact. Since Roact uses special symbols for things like children, flipbook needs to mount the story with the same copy of Roact that you used to create your elements."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"name"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string?"})}),(0,o.jsx)(t.td,{children:"Optional name for the story. Defaults to the file name."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"summary"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string?"})}),(0,o.jsx)(t.td,{children:"Optional description of the story that will appear as part of the information at the top of the preview."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"controls"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"StoryControls?"})}),(0,o.jsx)(t.td,{children:"Optional controls to see how your story behaves with various props."})]})]})]}),"\n",(0,o.jsx)(t.p,{children:"Example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-lua",metastring:'title="example/Button.story.lua"',children:'local Example = script:FindFirstAncestor("Example")\n\nlocal Roact = require(Example.Parent.Packages.Roact)\nlocal Button = require(script.Parent.Button)\n\nreturn {\n    summary = "A generic button component that can be used anywhere",\n    roact = Roact,\n    story = Roact.createElement(Button, {\n        text = "Click me",\n        onActivated = function()\n            print("click")\n        end,\n    }),\n}\n'})}),"\n",(0,o.jsx)(t.p,{children:"Example with controls:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-lua",metastring:'title="example/ButtonWithControls.story.lua"',children:'local Example = script:FindFirstAncestor("Example")\n\nlocal Roact = require(Example.Parent.Packages.Roact)\nlocal ButtonWithControls = require(script.Parent.ButtonWithControls)\n\nlocal controls = {\n    isDisabled = false,\n}\n\ntype Props = {\n    controls: typeof(controls),\n}\n\nreturn {\n    summary = "A generic button component that can be used anywhere",\n    controls = controls,\n    roact = Roact,\n    story = function(props: Props)\n        return Roact.createElement(ButtonWithControls, {\n            text = "Click me",\n            isDisabled = props.controls.isDisabled,\n            onActivated = function()\n                print("click")\n            end,\n        })\n    end,\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"react-story",children:"React Story"}),"\n",(0,o.jsx)(t.p,{children:"Roblox's unreleased React 17 port is natively supported by flipbook, allowing you to use the React and ReactRoblox packages for mounting your components."}),"\n",(0,o.jsxs)(t.p,{children:["You can find React and ReactRoblox as part of the ",(0,o.jsx)(t.a,{href:"https://github.com/grilme99/CorePackages",children:"CorePackages"})," repo on GitHub."]}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Name"}),(0,o.jsx)(t.th,{children:"Type"}),(0,o.jsx)(t.th,{children:"Description"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"story"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"ReactElement    | (props: StoryProps) -> ReactElement"})}),(0,o.jsx)(t.td,{children:"Your story can either be a React element or a function that accepts props and returns a React element. The latter format is needed to support the use of controls. See below for an example"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"react"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"React"})}),(0,o.jsx)(t.td,{children:"This must be set to your copy of React. Since React uses special symbols for things like children, flipbook needs to mount the story with the same copy of React that you used to create your elements."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"reactRoblox"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"ReactRoblox"})}),(0,o.jsx)(t.td,{children:"This must be set to your copy of ReactRoblox that is compatible with the supplied copy of React. This is used by flipbook to mount your React components."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"name"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string?"})}),(0,o.jsx)(t.td,{children:"Optional name for the story. Defaults to the file name."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"summary"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string?"})}),(0,o.jsx)(t.td,{children:"Optional description of the story that will appear as part of the information at the top of the preview."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"controls"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"StoryControls?"})}),(0,o.jsx)(t.td,{children:"Optional controls to see how your story behaves with various props."})]})]})]}),"\n",(0,o.jsx)(t.p,{children:"Example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-lua",metastring:'title="example/ReactCounter.story.lua"',children:'local Example = script:FindFirstAncestor("Example")\n\nlocal React = require(Example.Parent.Packages.React)\nlocal ReactRoblox = require(Example.Parent.Packages.ReactRoblox)\nlocal ReactCounter = require(script.Parent.ReactCounter)\n\nlocal controls = {\n    increment = 1,\n    waitTime = 1,\n}\n\ntype Props = {\n    controls: typeof(controls),\n}\n\nreturn {\n    summary = "A simple counter that increments every second. This is a copy of the Counter component, but written with React",\n    controls = controls,\n    react = React,\n    reactRoblox = ReactRoblox,\n    story = function(props: Props)\n        return React.createElement(ReactCounter, {\n            increment = props.controls.increment,\n            waitTime = props.controls.waitTime,\n        })\n    end,\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"functional-story",children:"Functional Story"}),"\n",(0,o.jsxs)(t.p,{children:["A Functional story uses a function to create and mount UI. This is the most flexible story format and is useful when using a UI library that is not yet natively supported by flipbook. You simply parent your UI elements to the ",(0,o.jsx)(t.code,{children:"target"})," argument and optionally return a function that gets called to cleanup the story."]}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Name"}),(0,o.jsx)(t.th,{children:"Type"}),(0,o.jsx)(t.th,{children:"Description"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"story"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"(parent: GuiObject, props: StoryProps) -> (() -> ()))?"})}),(0,o.jsx)(t.td,{children:"Like you might expect, a Functional story uses a function to create and mount the story. This is the most flexible story format and is useful when using a UI library that is not yet natively supported. You simply parent your UI elements"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"name"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string?"})}),(0,o.jsx)(t.td,{children:"Optional name for the story. Defaults to the file name."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"summary"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"string?"})}),(0,o.jsx)(t.td,{children:"Optional description of the story that will appear as part of the information at the top of the preview."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"controls"}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"StoryControls?"})}),(0,o.jsx)(t.td,{children:"Optional controls to see how your story behaves with various props."})]})]})]}),"\n",(0,o.jsx)(t.p,{children:"Example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-lua",metastring:'title="example/Functional.story.lua"',children:'local controls = {\n    text = "Functional Story",\n}\n\ntype Props = {\n    controls: typeof(controls),\n}\n\nreturn {\n    summary = "This story uses a function with a cleanup callback to create and mount the gui elements. This works similarly to Hoarcekat stories but also supports controls and other metadata. Check out the source to learn more",\n    controls = controls,\n    story = function(parent: GuiObject, props: Props)\n        local label = Instance.new("TextLabel")\n        label.Text = props.controls.text\n        label.Font = Enum.Font.Gotham\n        label.TextColor3 = Color3.fromRGB(0, 0, 0)\n        label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)\n        label.TextSize = 16\n        label.AutomaticSize = Enum.AutomaticSize.XY\n\n        local padding = Instance.new("UIPadding")\n        padding.PaddingTop = UDim.new(0, 8)\n        padding.PaddingRight = padding.PaddingTop\n        padding.PaddingBottom = padding.PaddingTop\n        padding.PaddingLeft = padding.PaddingTop\n        padding.Parent = label\n\n        label.Parent = parent\n\n        return function()\n            label:Destroy()\n        end\n    end,\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"hoarcekat-story",children:"Hoarcekat Story"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"https://github.com/Kampfkarren/hoarcekat",children:"Hoarcekat"})," stories are supported to make migration to flipbook easier."]}),"\n",(0,o.jsxs)(t.p,{children:["See the ",(0,o.jsx)(t.a,{href:"/flipbook/docs/migrating",children:"migration guide"})," for more info."]}),"\n",(0,o.jsx)(t.p,{children:"Example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-lua",metastring:'title="example/Hoarcekat.story.lua"',children:'local Example = script:FindFirstAncestor("Example")\n\nlocal Roact = require(Example.Parent.Packages.Roact)\n\nreturn function(target: Instance)\n    local root = Roact.createElement("TextLabel", {\n        Text = "Hoarcekat Story",\n        TextScaled = true,\n        TextColor3 = Color3.fromRGB(255, 255, 255),\n        BackgroundColor3 = Color3.fromRGB(0, 0, 0),\n        Size = UDim2.fromOffset(300, 100),\n    }, {\n        Padding = Roact.createElement("UIPadding", {\n            PaddingTop = UDim.new(0, 8),\n            PaddingRight = UDim.new(0, 8),\n            PaddingBottom = UDim.new(0, 8),\n            PaddingLeft = UDim.new(0, 8),\n        }),\n    })\n\n    local tree = Roact.mount(root, target)\n\n    return function()\n        Roact.unmount(tree)\n    end\nend\n'})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var o=n(6540);const r={},s=o.createContext(r);function a(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);